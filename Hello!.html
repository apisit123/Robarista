<h1 id="about-the-line-messaging-api">About the LINE Messaging API</h1>

<p>See the official API documentation for more information.</p>

<blockquote>
  <p><strong>English</strong> : <a href="https://developers.line.me/en/docs/">https://developers.line.me/en/docs/</a></p>
</blockquote>

<hr>

<h2 id="documents">    Documents</h2>



<h3 id="create-line-bot">Create Line Bot</h3>

<blockquote>
  <p><a href="https://nuuneoi.com/blog/blog.php?read_id=882">https://nuuneoi.com/blog/blog.php?read_id=882</a> </p>
</blockquote>

<hr>



<h3 id="line-bot-sdk-php">Line-Bot-SDK-php</h3>



<h3 id="installation">Installation</h3>

<ul>
<li>Install the LINE Messaging API SDK using Composer. <br>


<blockquote>
  $ composer require linecorp/line-bot-sdk</blockquote></li>
  </ul>
  


<h3 id="getting-started">Getting started</h3>

<ul>
<li>Create the bot client instance</li>
<li>The bot client instance is a handler of the Messaging API.</li>
</ul>



<pre class="prettyprint"><code class=" hljs php"><span class="hljs-variable">$httpClient</span> = <span class="hljs-keyword">new</span> \LINE\LINEBot\HTTPClient\
CurlHTTPClient(<span class="hljs-string">'&lt; channel access token &gt;'</span>);

<span class="hljs-variable">$bot</span> = <span class="hljs-keyword">new</span> \LINE\LINEBot(<span class="hljs-variable">$httpClient</span>, [<span class="hljs-string">'channelSecret'</span> =&gt; <span class="hljs-string">'&lt; channel secret &gt;'</span>]);</code></pre>

<ul>
<li>The constructor of the bot client requires an instance of HTTPClient. This library provides CurlHTTPClient by default.</li>
</ul>



<h3 id="call-api">Call API</h3>

<p>You can call an API through the bot client instance.</p>

<ul>
<li>A very simple example:</li>
</ul>



<pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-variable">$response</span> <span class="hljs-subst">=</span> <span class="hljs-variable">$bot</span><span class="hljs-subst">-&gt;</span>replyText(<span class="hljs-string">'&lt; reply token &gt;'</span>, <span class="hljs-string">'hello!'</span>);</code></pre>

<ul>
<li><p>This procedure sends a message to the destination that is associated with &lt; reply token &gt;.</p></li>
<li><p>A more advanced example:</p></li>
</ul>



<pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-variable">$textMessageBuilder</span> <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> LINE<span class="hljs-subst">\</span>LINEBot<span class="hljs-subst">\</span>MessageBuilder
<span class="hljs-subst">\</span>TextMessageBuilder(<span class="hljs-string">'hello'</span>);

<span class="hljs-variable">$response</span> <span class="hljs-subst">=</span> <span class="hljs-variable">$bot</span><span class="hljs-subst">-&gt;</span>replyMessage(<span class="hljs-string">'&lt;reply token&gt;'</span>
,<span class="hljs-variable">$textMessageBuilder</span>);
<span class="hljs-keyword">if</span> (<span class="hljs-variable">$response</span><span class="hljs-subst">-&gt;</span>isSucceeded()) {
    echo <span class="hljs-string">'Succeeded!'</span>;
    <span class="hljs-keyword">return</span>;
}</code></pre>

<p>// Failed</p>



<pre class="prettyprint"><code class=" hljs lasso">echo <span class="hljs-variable">$response</span><span class="hljs-subst">-&gt;</span>getHTTPStatus()<span class="hljs-built_in">.</span><span class="hljs-string">' '</span><span class="hljs-built_in">.</span><span class="hljs-variable">$response</span><span class="hljs-attribute">-getRawBody</span>();</code></pre>

<p>LINEBot #replyMessage() takes the reply token and MessageBuilder. </p>

<p>The method sends a message that is built by MessageBuilder to the destination.</p>



<h1 id="push-code-to-heroku">Push Code to Heroku</h1>



<h3 id="install-the-heroku-cli">Install the Heroku CLI</h3>

<blockquote>
  <p><a href="https://devcenter.heroku.com/articles/heroku-cli">https://devcenter.heroku.com/articles/heroku-cli</a></p>
</blockquote>

<p>If you haven’t already, log in to your Heroku account and follow the prompts to create a new SSH public key.</p>

<blockquote>
  <p>$ heroku login</p>
</blockquote>

<p>Clone the repository <br>
Use Git to clone Folder Project’s source code to your local machine.</p>

<blockquote>
  <p><span>$</span> heroku git:clone -a Folder Project <br>
  $ cd Folder Project</p>
</blockquote>

<p>Deploy your changes</p>

<p>Make some changes to the code you just cloned and deploy them to Heroku using Git.</p>

<blockquote>
  <p><span>$</span> git add . <br>
  <span>$</span> git commit -am “make it better” <br>
  $ git push heroku master</p>
</blockquote>